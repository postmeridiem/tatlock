<!-- Header Component -->
<header class="header-bar">
    <div class="logo">
        <img src="/static/images/logo-tatlock-transparent.png" alt="{{ app_name }}" class="logo-image">
        <span class="logo-text">{{ app_name }}</span>
    </div>
    
    <nav class="nav">
        {% if is_authenticated %}
            <a href="/profile" class="nav-link">
                <span class="material-icons">person</span>
                Profile
            </a>
            {% if is_admin %}
                <a href="/admin" class="nav-link">
                    <span class="material-icons">admin_panel_settings</span>
                    Admin
                </a>
            {% endif %}
            <a href="/chat" class="nav-link">
                <span class="material-icons">chat</span>
                Debug
            </a>
            <a href="/docs" class="nav-link">
                <span class="material-icons">description</span>
                API Docs
            </a>
        {% else %}
            <a href="/login" class="nav-link">
                <span class="material-icons">login</span>
                Login
            </a>
            <a href="/docs" class="nav-link">
                <span class="material-icons">description</span>
                API Docs
            </a>
        {% endif %}
    </nav>
    
    {% if is_authenticated %}
    <div class="header-right">
        <div id="user-dropdown-container">
            <button class="user-dropdown-button" onclick="toggleUserDropdown()">
                <span class="material-icons">person</span>
                <span class="username">{{ user.username if user else 'User' }}</span>
                <span class="material-icons">arrow_drop_down</span>
            </button>
            <div class="user-dropdown-content" id="user-dropdown">
                <div class="user-dropdown-item">
                    <span class="material-icons icon">person</span>
                    <span>{{ user.first_name }} {{ user.last_name }}</span>
                </div>
                <div class="user-dropdown-item">
                    <span class="material-icons icon">email</span>
                    <span>{{ user.email if user.email else 'No email' }}</span>
                </div>
                <div class="user-dropdown-divider"></div>
                <a href="/profile" class="user-dropdown-item">
                    <span class="material-icons icon">settings</span>
                    <span>Profile Settings</span>
                </a>
                <div class="user-dropdown-item">
                    <span class="material-icons icon">dark_mode</span>
                    <span>Theme</span>
                    <label class="theme-toggle">
                        <input type="checkbox" id="theme-toggle" onchange="toggleTheme()">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="user-dropdown-divider"></div>
                <form method="post" action="/logout" style="margin: 0;">
                    <button type="submit" class="user-dropdown-item">
                        <span class="material-icons icon">logout</span>
                        <span>Logout</span>
                    </button>
                </form>
            </div>
        </div>
    </div>
    {% endif %}
</header> 